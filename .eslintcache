[{"/Users/gaopeng/Desktop/redux-redux/my-app/src/index.js":"1","/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/index.js":"2","/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/createStore.js":"3","/Users/gaopeng/Desktop/redux-redux/my-app/src/components/Counter1/index.js":"4","/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/bindActionCreators.js":"5","/Users/gaopeng/Desktop/redux-redux/my-app/src/components/Counter2/index.js":"6","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/index.js":"7","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/action-types.js":"8","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/reducers/counter1.js":"9","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/reducers/counter2.js":"10","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/reducers/index.js":"11","/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/combineReducers.js":"12","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/actions/counter1.js":"13","/Users/gaopeng/Desktop/redux-redux/my-app/src/store/actions/counter2.js":"14","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/index.js":"15","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/connect.js":"16","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/Provider.js":"17","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/ReactReduxContext.js":"18","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/hooks/index.js":"19","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/hooks/useDispatch.js":"20","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/hooks/useSelector.js":"21"},{"size":820,"mtime":1611848154778,"results":"22","hashOfConfig":"23"},{"size":186,"mtime":1611674588237,"results":"24","hashOfConfig":"23"},{"size":1088,"mtime":1611676100160,"results":"25","hashOfConfig":"23"},{"size":552,"mtime":1611760303413,"results":"26","hashOfConfig":"23"},{"size":667,"mtime":1611671923654,"results":"27","hashOfConfig":"23"},{"size":1390,"mtime":1611750816615,"results":"28","hashOfConfig":"23"},{"size":3097,"mtime":1611848248245,"results":"29","hashOfConfig":"23"},{"size":120,"mtime":1611673599440,"results":"30","hashOfConfig":"23"},{"size":469,"mtime":1611673854680,"results":"31","hashOfConfig":"23"},{"size":427,"mtime":1611673871018,"results":"32","hashOfConfig":"23"},{"size":274,"mtime":1611675427293,"results":"33","hashOfConfig":"23"},{"size":682,"mtime":1611839851000,"results":"34","hashOfConfig":"23"},{"size":223,"mtime":1611750278349,"results":"35","hashOfConfig":"23"},{"size":222,"mtime":1611750746976,"results":"36","hashOfConfig":"23"},{"size":139,"mtime":1611759949792,"results":"37","hashOfConfig":"23"},{"size":3164,"mtime":1611835928631,"results":"38","hashOfConfig":"23"},{"size":393,"mtime":1611756104884,"results":"39","hashOfConfig":"23"},{"size":110,"mtime":1611751588305,"results":"40","hashOfConfig":"23"},{"size":247,"mtime":1611759858836,"results":"41","hashOfConfig":"23"},{"size":217,"mtime":1611760416568,"results":"42","hashOfConfig":"23"},{"size":647,"mtime":1611761045066,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13ffll0",{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"48"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/Users/gaopeng/Desktop/redux-redux/my-app/src/index.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/index.js",[],["89","90"],"/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/createStore.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/components/Counter1/index.js",["91"],"import React from 'react';\nimport actions from '../../store/actions/counter1';\nimport {useDispatch,useSelector} from '../../react-redux'\n\nconst Counter1 = () =>{\n    const state = useSelector(state=>state.counter1) \n    const dispatch = useDispatch(); // store.dispatch\n    return (\n        <div>\n            <p>{state.number}</p>\n\n            <button onClick={() => {dispatch({type:'ADD1',payload:1})}}> + </button>\n            <button onClick={() => {dispatch({type:'MINUS1',payload:1})}}> - </button>\n        </div>\n    )\n}\n\n\nexport default Counter1","/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/bindActionCreators.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/components/Counter2/index.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/index.js",["92","93"],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/action-types.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/reducers/counter1.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/reducers/counter2.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/reducers/index.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/redux/combineReducers.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/actions/counter1.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/store/actions/counter2.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/index.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/connect.js",["94"],"import React, { useContext, useReducer } from 'react';\nimport ReactReduxContext from './ReactReduxContext';\nimport { bindActionCreators } from '../redux'\n/**\n * 把组件和仓库进行关联\n * @param {*} mapStateToProps 把仓库的状态映射为属性\n * @param {*} mapDispatchToProps 把store.dispatch方法映射为属性\n */\n\n// 函数组件的实现\nfunction connect(mapStateToProps, mapDispatchToProps) {\n    // HOC 接收一个组件返回一个组件\n    return function (OldComponent) {\n        return function (props) { // ReactDom.render的时候渲染这个\n            const { store } = useContext(ReactReduxContext)\n            const state = store.getState(); //获取仓库中的总状态\n            const [, forceUpdate] = useReducer(x => x + 1, 0) // fourceUpdate 强行让组件更新\n            //里面可以编写一个订阅 订阅仓库中状态变化事件 仓库中的状态发生变化后可以调用fourceUpdate渲染组件\n            React.useEffect(() => {\n                return store.subscribe(forceUpdate)\n            }, [store])\n            // let mapStateToProps = state => state.counter1;\n            const stateProps = React.useMemo(()=> mapStateToProps(state),[state]) //把返回的对象当成了OldComponent组件的属性\n             \n            let dispatchProps = React.useMemo(()=>{\n                let dispatchProps;\n                if(typeof mapDispatchToProps === 'object'){\n                    dispatchProps = bindActionCreators(mapDispatchToProps, store.dispatch);\n                }else if(typeof mapDispatchToProps === 'function'){\n                    dispatchProps = mapDispatchToProps(store.dispatch)\n                }else {\n                    dispatchProps = {dispatch:store.dispatch}\n                }\n                return dispatchProps      \n            },[store.dispatch])\n            return <OldComponent {...props} {...stateProps} {...dispatchProps} />\n        }\n    }\n}\n\n// 类组件的实现\nfunction connect2(mapStateToProps, mapDispatchToProps) {\n    return function (OldComponent) {\n        return class extends React.Component {\n            static contextType = ReactReduxContext;\n\n            componentDidMount() {\n                this.unsubscribe = this.context.store.subscribe(() => this.forceUpdate())\n            }\n            componentWillUnmount() {\n                this.unsubscribe();\n            }\n            render() {\n                const { store } = this.context;\n                const state = store.getState();\n               \n                let dispatchProps;\n                if(typeof mapDispatchToProps === 'object'){\n                    dispatchProps = bindActionCreators(mapDispatchToProps, store.dispatch);\n                }else if(typeof mapDispatchToProps === 'function'){\n                    dispatchProps = mapDispatchToProps(store.dispatch)\n                }else {\n                    dispatchProps = {dispatch:store.dispatch}\n                }\n\n                const newState = mapStateToProps(state, dispatchProps)\n                return <OldComponent {...this.props} {...newState} {...dispatchProps} />\n            }\n        }\n    }\n}\n\nexport default connect2","/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/Provider.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/ReactReduxContext.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/hooks/index.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/hooks/useDispatch.js",[],"/Users/gaopeng/Desktop/redux-redux/my-app/src/react-redux/hooks/useSelector.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":2,"column":8,"nodeType":"101","messageId":"102","endLine":2,"endColumn":15},{"ruleId":"99","severity":1,"message":"103","line":4,"column":10,"nodeType":"101","messageId":"102","endLine":4,"endColumn":25},{"ruleId":"99","severity":1,"message":"104","line":56,"column":10,"nodeType":"101","messageId":"102","endLine":56,"endColumn":20},{"ruleId":"99","severity":1,"message":"105","line":11,"column":10,"nodeType":"101","messageId":"102","endLine":11,"endColumn":17},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"no-unused-vars","'actions' is defined but never used.","Identifier","unusedVar","'applyMiddleWare' is defined but never used.","'middleware' is defined but never used.","'connect' is defined but never used.","no-global-assign","no-unsafe-negation"]